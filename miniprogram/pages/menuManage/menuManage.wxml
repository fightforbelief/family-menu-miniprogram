<!--pages/menuManage/menuManage.wxml-->
<view class="container">
  <!-- èœç³»ç­›é€‰ -->
  <view class="cuisine-filter">
    <scroll-view class="cuisine-scroll" scroll-x>
      <view class="cuisine-list">
        <view 
          class="cuisine-item {{activeCuisine === item.cuisine_code ? 'active' : ''}}"
          wx:for="{{cuisines}}"
          wx:key="cuisine_code"
          bindtap="switchCuisine"
          data-code="{{item.cuisine_code}}"
        >
          {{item.cuisine}}
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- èœå“åˆ—è¡¨ -->
  <view class="dish-list" wx:if="{{dishes.length > 0}}">
    <view class="dish-item" wx:for="{{dishes}}" wx:key="_id">
      <image 
        class="dish-image" 
        src="{{item.image}}" 
        mode="aspectFill"
      ></image>
      <view class="dish-info">
        <view class="dish-name">
          {{item.name}}
          <text class="status {{item.isAvailable ? 'available' : 'unavailable'}}">
            {{item.isAvailable ? 'ä¸Šæ¶' : 'ä¸‹æ¶'}}
          </text>
        </view>
        <view class="dish-category">åˆ†ç±»ï¼š{{item.category_code}}</view>
      </view>
      <view class="action-btns">
        <button class="action-btn edit" bindtap="editDish" data-id="{{item._id}}">ç¼–è¾‘</button>
        <button 
          class="action-btn {{item.isAvailable ? 'offline' : 'online'}}" 
          bindtap="toggleAvailable" 
          data-id="{{item._id}}" 
          data-available="{{item.isAvailable}}"
        >
          {{item.isAvailable ? 'ä¸‹æ¶' : 'ä¸Šæ¶'}}
        </button>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:else>
    <text class="empty-icon">ğŸ½ï¸</text>
    <text class="empty-text">{{activeCuisine === 'all' ? 'æš‚æ— èœå“' : 'è¯¥èœç³»æš‚æ— èœå“'}}</text>
  </view>

  <!-- æ·»åŠ æŒ‰é’® -->
  <view class="add-btn" bindtap="addDish">
    <text class="add-icon">+</text>
  </view>
</view>
