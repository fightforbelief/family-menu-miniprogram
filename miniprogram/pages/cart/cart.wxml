<!--pages/cart/cart.wxml-->
<view class="container">
  <view class="content" wx:if="{{cart.length > 0}}">
    <view class="cart-list">
      <view class="cart-item" wx:for="{{cart}}" wx:key="_id">
        <image class="dish-image" src="{{item.image}}" mode="aspectFill"></image>
        <view class="dish-info">
          <view class="dish-name">{{item.name}}</view>
        </view>
        <view class="quantity-control">
          <view class="control-btn" bindtap="decreaseQuantity" data-index="{{index}}">-</view>
          <view class="quantity">{{item.quantity}}</view>
          <view class="control-btn" bindtap="increaseQuantity" data-index="{{index}}">+</view>
        </view>
      </view>
    </view>

    <view class="clear-btn-wrapper">
      <button class="clear-btn" bindtap="clearCart">æ¸…ç©ºè´­ç‰©è½¦</button>
    </view>
  </view>

  <view class="empty" wx:else>
    <view class="empty-icon">ğŸ›’</view>
    <view class="empty-text">è´­ç‰©è½¦æ˜¯ç©ºçš„</view>
    <navigator url="/pages/dishList/dishList" open-type="redirect">
      <button class="back-btn">å»é€‰èœ</button>
    </navigator>
  </view>

  <!-- åº•éƒ¨æäº¤æŒ‰é’® -->
  <view class="footer" wx:if="{{cart.length > 0}}">
    <view class="total-info">
      <text class="total-text">å…± {{totalCount}} é“èœ</text>
    </view>
    <button class="submit-btn" bindtap="submitOrder">æäº¤è®¢å•</button>
  </view>
</view>
