<!--pages/ingredientList/ingredientList.wxml-->
<view class="container">
  <!-- æ—¥æœŸé€‰æ‹© -->
  <view class="date-selector">
    <view class="date-label">æŸ¥çœ‹æ—¥æœŸ</view>
    <picker mode="date" value="{{selectedDate}}" start="2020-01-01" end="2030-12-31" bindchange="onDateChange">
      <view class="date-value">{{selectedDate}}</view>
    </picker>
  </view>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="stats">
    <view class="stat-item">
      <view class="stat-value">{{totalOrders}}</view>
      <view class="stat-label">ä¸ªè®¢å•</view>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <view class="stat-value">{{ingredients.length}}</view>
      <view class="stat-label">ç§ææ–™</view>
    </view>
  </view>

  <!-- ææ–™æ¸…å• -->
  <view class="ingredient-list" wx:if="{{ingredients.length > 0}}">
    <view class="list-header">
      <view class="header-title">ğŸ“‹ è´­ç‰©æ¸…å•</view>
      <button class="copy-btn" bindtap="copyList">å¤åˆ¶æ¸…å•</button>
    </view>

    <view class="ingredient-item" wx:for="{{ingredients}}" wx:key="name">
      <view class="ingredient-header">
        <view class="ingredient-name">{{item.name}}</view>
        <view class="ingredient-amount">{{item.totalAmount}}</view>
      </view>
      <view class="ingredient-dishes">
        <text class="dishes-label">ç”¨äºï¼š</text>
        <text class="dish-name" wx:for="{{item.dishes}}" wx:for-item="dish" wx:key="index">
          {{dish}}{{index < item.dishes.length - 1 ? 'ã€' : ''}}
        </text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:else>
    <view class="empty-icon">ğŸ›’</view>
    <view class="empty-text">è¯¥æ—¥æœŸæš‚æ— éœ€è¦å‡†å¤‡çš„ææ–™</view>
  </view>
</view>
